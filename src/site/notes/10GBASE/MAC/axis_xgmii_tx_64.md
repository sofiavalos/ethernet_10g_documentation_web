---
{"dg-publish":true,"permalink":"/10-gbase/mac/axis-xgmii-tx-64/"}
---

- **File**: [[10GBASE/MAC/axis_xgmii_tx_64_code\|axis_xgmii_tx_64_code]]
## Diagram
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 975 490"><svg id="SvgjsSvg1002" width="2" height="0" focusable="false" style="overflow:hidden;top:-100%;left:-100%;position:absolute;opacity:0"><polyline id="SvgjsPolyline1003" points="275,0 290,0"></polyline><path id="SvgjsPath1004" d="M0 0 "></path></svg><rect id="SvgjsRect1006" width="400" height="270" fill="black" x="290" y="0"></rect><rect id="SvgjsRect1007" width="396" height="265" fill="#bdecb6" x="292" y="2"></rect><text id="SvgjsText1008" font-family="Helvetica" x="270" y="-5.698437500000001" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1009" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1010" font-family="Helvetica" x="305" y="-5.698437500000001" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1011" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   DATA_WIDTH </tspan></text><line id="SvgjsLine1012" x1="275" y1="15" x2="290" y2="15" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1013" font-family="Helvetica" x="270" y="14.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1014" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1015" font-family="Helvetica" x="305" y="14.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1016" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   KEEP_WIDTH </tspan></text><line id="SvgjsLine1017" x1="275" y1="35" x2="290" y2="35" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1018" font-family="Helvetica" x="270" y="34.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1019" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1020" font-family="Helvetica" x="305" y="34.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1021" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   CTRL_WIDTH </tspan></text><line id="SvgjsLine1022" x1="275" y1="55" x2="290" y2="55" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1023" font-family="Helvetica" x="270" y="54.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1024" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1025" font-family="Helvetica" x="305" y="54.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1026" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   ENABLE_PADDING </tspan></text><line id="SvgjsLine1027" x1="275" y1="75" x2="290" y2="75" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1028" font-family="Helvetica" x="270" y="74.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1029" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1030" font-family="Helvetica" x="305" y="74.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1031" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   ENABLE_DIC </tspan></text><line id="SvgjsLine1032" x1="275" y1="95" x2="290" y2="95" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1033" font-family="Helvetica" x="270" y="94.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1034" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1035" font-family="Helvetica" x="305" y="94.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1036" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   MIN_FRAME_LENGTH </tspan></text><line id="SvgjsLine1037" x1="275" y1="115" x2="290" y2="115" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1038" font-family="Helvetica" x="270" y="114.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1039" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1040" font-family="Helvetica" x="305" y="114.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1041" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   PTP_TS_ENABLE </tspan></text><line id="SvgjsLine1042" x1="275" y1="135" x2="290" y2="135" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1043" font-family="Helvetica" x="270" y="134.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1044" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1045" font-family="Helvetica" x="305" y="134.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1046" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   PTP_TS_FMT_TOD </tspan></text><line id="SvgjsLine1047" x1="275" y1="155" x2="290" y2="155" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1048" font-family="Helvetica" x="270" y="154.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1049" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1050" font-family="Helvetica" x="305" y="154.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1051" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   PTP_TS_WIDTH </tspan></text><line id="SvgjsLine1052" x1="275" y1="175" x2="290" y2="175" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1053" font-family="Helvetica" x="270" y="174.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1054" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1055" font-family="Helvetica" x="305" y="174.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1056" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   PTP_TS_CTRL_IN_TUSER </tspan></text><line id="SvgjsLine1057" x1="275" y1="195" x2="290" y2="195" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1058" font-family="Helvetica" x="270" y="194.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1059" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1060" font-family="Helvetica" x="305" y="194.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1061" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   PTP_TAG_ENABLE </tspan></text><line id="SvgjsLine1062" x1="275" y1="215" x2="290" y2="215" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1063" font-family="Helvetica" x="270" y="214.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1064" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1065" font-family="Helvetica" x="305" y="214.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1066" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   PTP_TAG_WIDTH </tspan></text><line id="SvgjsLine1067" x1="275" y1="235" x2="290" y2="235" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1068" font-family="Helvetica" x="270" y="234.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1069" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">    </tspan></text><text id="SvgjsText1070" font-family="Helvetica" x="305" y="234.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1071" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   USER_WIDTH </tspan></text><line id="SvgjsLine1072" x1="275" y1="255" x2="290" y2="255" stroke-linecap="rec" stroke="black" stroke-width="5"></line><rect id="SvgjsRect1073" width="400" height="210" fill="black" x="290" y="275"></rect><rect id="SvgjsRect1074" width="396" height="205" fill="#fdfd96" x="292" y="277"></rect><text id="SvgjsText1075" font-family="Helvetica" x="270" y="269.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1076" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1077" font-family="Helvetica" x="305" y="269.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1078" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   clk </tspan></text><line id="SvgjsLine1079" x1="275" y1="290" x2="290" y2="290" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1080" font-family="Helvetica" x="270" y="289.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1081" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1082" font-family="Helvetica" x="305" y="289.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1083" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   rst </tspan></text><line id="SvgjsLine1084" x1="275" y1="310" x2="290" y2="310" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1085" font-family="Helvetica" x="270" y="309.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1086" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire [DATA_WIDTH-1:0] </tspan></text><text id="SvgjsText1087" font-family="Helvetica" x="305" y="309.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1088" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   s_axis_tdata </tspan></text><line id="SvgjsLine1089" x1="275" y1="330" x2="290" y2="330" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1090" font-family="Helvetica" x="270" y="329.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1091" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire [KEEP_WIDTH-1:0] </tspan></text><text id="SvgjsText1092" font-family="Helvetica" x="305" y="329.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1093" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   s_axis_tkeep </tspan></text><line id="SvgjsLine1094" x1="275" y1="350" x2="290" y2="350" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1095" font-family="Helvetica" x="270" y="349.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1096" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1097" font-family="Helvetica" x="305" y="349.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1098" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   s_axis_tvalid </tspan></text><line id="SvgjsLine1099" x1="275" y1="370" x2="290" y2="370" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1100" font-family="Helvetica" x="270" y="369.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1101" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1102" font-family="Helvetica" x="305" y="369.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1103" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   s_axis_tlast </tspan></text><line id="SvgjsLine1104" x1="275" y1="390" x2="290" y2="390" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1105" font-family="Helvetica" x="270" y="389.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1106" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire [USER_WIDTH-1:0] </tspan></text><text id="SvgjsText1107" font-family="Helvetica" x="305" y="389.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1108" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   s_axis_tuser </tspan></text><line id="SvgjsLine1109" x1="275" y1="410" x2="290" y2="410" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1110" font-family="Helvetica" x="270" y="409.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1111" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire [PTP_TS_WIDTH-1:0] </tspan></text><text id="SvgjsText1112" font-family="Helvetica" x="305" y="409.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1113" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   ptp_ts </tspan></text><line id="SvgjsLine1114" x1="275" y1="430" x2="290" y2="430" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1115" font-family="Helvetica" x="270" y="429.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1116" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire [7:0] </tspan></text><text id="SvgjsText1117" font-family="Helvetica" x="305" y="429.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1118" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   cfg_ifg </tspan></text><line id="SvgjsLine1119" x1="275" y1="450" x2="290" y2="450" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1120" font-family="Helvetica" x="270" y="449.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1121" dy="26" x="270" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1122" font-family="Helvetica" x="305" y="449.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1123" dy="26" x="305" svgjs:data="{&quot;newLined&quot;:true}">   cfg_tx_enable </tspan></text><line id="SvgjsLine1124" x1="275" y1="470" x2="290" y2="470" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1125" font-family="Helvetica" x="710" y="269.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1126" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1127" font-family="Helvetica" x="675" y="269.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1128" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   s_axis_tready </tspan></text><line id="SvgjsLine1129" x1="690" y1="290" x2="705" y2="290" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1130" font-family="Helvetica" x="710" y="289.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1131" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire [DATA_WIDTH-1:0] </tspan></text><text id="SvgjsText1132" font-family="Helvetica" x="675" y="289.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1133" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   xgmii_txd </tspan></text><line id="SvgjsLine1134" x1="690" y1="310" x2="705" y2="310" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1135" font-family="Helvetica" x="710" y="309.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1136" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire [CTRL_WIDTH-1:0] </tspan></text><text id="SvgjsText1137" font-family="Helvetica" x="675" y="309.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1138" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   xgmii_txc </tspan></text><line id="SvgjsLine1139" x1="690" y1="330" x2="705" y2="330" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1140" font-family="Helvetica" x="710" y="329.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1141" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire [PTP_TS_WIDTH-1:0] </tspan></text><text id="SvgjsText1142" font-family="Helvetica" x="675" y="329.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1143" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   m_axis_ptp_ts </tspan></text><line id="SvgjsLine1144" x1="690" y1="350" x2="705" y2="350" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1145" font-family="Helvetica" x="710" y="349.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1146" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire [PTP_TAG_WIDTH-1:0] </tspan></text><text id="SvgjsText1147" font-family="Helvetica" x="675" y="349.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1148" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   m_axis_ptp_ts_tag </tspan></text><line id="SvgjsLine1149" x1="690" y1="370" x2="705" y2="370" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1150" font-family="Helvetica" x="710" y="369.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1151" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1152" font-family="Helvetica" x="675" y="369.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1153" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   m_axis_ptp_ts_valid </tspan></text><line id="SvgjsLine1154" x1="690" y1="390" x2="705" y2="390" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1155" font-family="Helvetica" x="710" y="389.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1156" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire [1:0] </tspan></text><text id="SvgjsText1157" font-family="Helvetica" x="675" y="389.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1158" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   start_packet </tspan></text><line id="SvgjsLine1159" x1="690" y1="410" x2="705" y2="410" stroke-linecap="rec" stroke="black" stroke-width="5"></line><text id="SvgjsText1160" font-family="Helvetica" x="710" y="409.3015625" font-size="20" text-anchor="start" family="Helvetica" size="20" anchor="start" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1161" dy="26" x="710" svgjs:data="{&quot;newLined&quot;:true}">   wire </tspan></text><text id="SvgjsText1162" font-family="Helvetica" x="675" y="409.3015625" font-size="20" text-anchor="end" family="Helvetica" size="20" anchor="end" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}"><tspan id="SvgjsTspan1163" dy="26" x="675" svgjs:data="{&quot;newLined&quot;:true}">   error_underflow </tspan></text><line id="SvgjsLine1164" x1="690" y1="430" x2="705" y2="430" stroke-linecap="rec" stroke="black" stroke-width="5"></line></svg>
## Hierarchical structure
![axis_xgmii_tx_compuesto.png](/img/user/10GBASE/MAC/axis_xgmii_tx_compuesto.png)
## Description

Modulo que convierte interfaz [[Abbreviations#AXI\|AXI]] a [[Abbreviations#XGMII\|XGMII]]
## Generics

| Generic name         | Type | Value                    | Description                                                            |
| -------------------- | ---- | ------------------------ | ---------------------------------------------------------------------- |
| DATA_WIDTH           |      | 64                       | Parametro que define el tamaño de los datos                            |
| KEEP_WIDTH           |      | (DATA_WIDTH/8)           | Cantidad de bytes de datos que deben ser válidos                       |
| CTRL_WIDTH           |      | (DATA_WIDTH/8)           | Cantidad de bits de control                                            |
| ENABLE_PADDING       |      | 1                        | Flag para habilitar el relleno de tramas                               |
| ENABLE_DIC           |      | 1                        | Flag para habilitar [[Abbreviations#DIC\|DIC]]                         |
| MIN_FRAME_LENGTH     |      | 64                       | Longitud mínima de la trama                                            |
| PTP_TS_ENABLE        |      | 0                        | Flag para habilitar protocolo PTP                                      |
| PTP_TS_FMT_TOD       |      | 1                        | Flag para cambiar el formato de la marca de tiempo según "Time of day" |
| PTP_TS_WIDTH         |      | PTP_TS_FMT_TOD ? 96 : 64 | Parametro del ancho de la marca del tiempo                             |
| PTP_TS_CTRL_IN_TUSER |      | 0                        | Flag para habilitar control PTP en tuser                               |
| PTP_TAG_ENABLE       |      | PTP_TS_ENABLE            | Flag para habilitar etiqueta PTP                                       |
| PTP_TAG_WIDTH        |      | 16                       | Ancho de la etiqueta PTP                                               |
| USER_WIDTH           |      | (PTP_TS_ENABLE ?         | Parametro que define el ancho de los datos de usuario                  |

## Ports

| Port name           | Direction | Type                     | Description                                                                       |
| ------------------- | --------- | ------------------------ | --------------------------------------------------------------------------------- |
| clk                 | input     | wire                     | Señal de clock                                                                    |
| rst                 | input     | wire                     | Señal de reset                                                                    |
| s_axis_tdata        | input     | wire [DATA_WIDTH-1:0]    | Entrada de datos de la interfaz [[Abbreviations#AXI\|AXI]]                        |
| s_axis_tkeep        | input     | wire [KEEP_WIDTH-1:0]    | Entrada de bits válidos de la interfaz [[Abbreviations#AXI\|AXI]]                 |
| s_axis_tvalid       | input     | wire                     | Señal de datos válidos de la interfaz [[Abbreviations#AXI\|AXI]]                  |
| s_axis_tready       | output    | wire                     | Señal de que la interfaz [[Abbreviations#AXI\|AXI]] está lista para recibir datos |
| s_axis_tlast        | input     | wire                     | Señal de fin de trama de la interfaz [[Abbreviations#AXI\|AXI]]                   |
| s_axis_tuser        | input     | wire [USER_WIDTH-1:0]    | Entrada de datos de usuario de la interfaz [[Abbreviations#AXI\|AXI]]             |
| xgmii_txd           | output    | wire [DATA_WIDTH-1:0]    | Salida de datos de la interfaz [[Abbreviations#XGMII\|XGMII]]                     |
| xgmii_txc           | output    | wire [CTRL_WIDTH-1:0]    | Salida de control de la interfaz [[Abbreviations#XGMII\|XGMII]]                   |
| ptp_ts              | input     | wire [PTP_TS_WIDTH-1:0]  | Entrada de marca de tiempo PTP                                                    |
| m_axis_ptp_ts       | output    | wire [PTP_TS_WIDTH-1:0]  | Salida de marca de tiempo PTP                                                     |
| m_axis_ptp_ts_tag   | output    | wire [PTP_TAG_WIDTH-1:0] | Salida de etiqueta de marca de tiempo PTP                                         |
| m_axis_ptp_ts_valid | output    | wire                     | Señal de validez de marca de tiempo PTP                                           |
| cfg_ifg             | input     | wire [7:0]               | Señal de configuración de espacio interframe                                      |
| cfg_tx_enable       | input     | wire                     | Señal de configuración para habilitar transmisión                                 |
| start_packet        | output    | wire [1:0]               | Estado indicando inicio de paquete                                                |
| error_underflow     | output    | wire                     | Señal de error por desbordamiento                                                 |

## Signals

| Name                                     | Type                    | Description                                                              |
| ---------------------------------------- | ----------------------- | ------------------------------------------------------------------------ |
| state_reg = STATE_IDLE                   | reg [2:0]               | Registro y próximo estado del FSM                                        |
| state_next                               | reg [2:0]               | Registro y próximo estado del FSM                                        |
| reset_crc                                | reg                     | Señal para resetear el [[Abbreviations#CRC\|CRC]]                        |
| update_crc                               | reg                     | Señal para actualizar el [[Abbreviations#CRC\|CRC]]                      |
| swap_lanes_reg = 1'b0                    | reg                     | Registro y próximo valor de swap de lanes                                |
| swap_lanes_next                          | reg                     | Registro y próximo valor de swap de lanes                                |
| swap_txd = 32'd0                         | reg [31:0]              | Datos para swap de lanes                                                 |
| swap_txc = 4'd0                          | reg [3:0]               | Datos de control para swap de lanes                                      |
| s_axis_tdata_masked                      | reg [DATA_WIDTH-1:0]    | Datos de la entrada [[Abbreviations#AXI\|AXI]] con máscara aplicada      |
| s_tdata_reg = 0                          | reg [DATA_WIDTH-1:0]    | Registro y próximo valor de datos de entrada [[Abbreviations#AXI\|AXI]]  |
| s_tdata_next                             | reg [DATA_WIDTH-1:0]    | Registro y próximo valor de datos de entrada [[Abbreviations#AXI\|AXI]]  |
| s_empty_reg = 0                          | reg [EMPTY_WIDTH-1:0]   | Registro y próximo valor de datos vacíos                                 |
| s_empty_next                             | reg [EMPTY_WIDTH-1:0]   | Registro y próximo valor de datos vacíos                                 |
| fcs_output_txd_0                         | reg [DATA_WIDTH-1:0]    | Datos de salida del primer [[Abbreviations#FCS\|FCS]]                    |
| fcs_output_txd_1                         | reg [DATA_WIDTH-1:0]    | Datos de salida del segundo [[Abbreviations#FCS\|FCS]]                   |
| fcs_output_txc_0                         | reg [CTRL_WIDTH-1:0]    | Control de salida del primer [[Abbreviations#FCS\|FCS]]                  |
| fcs_output_txc_1                         | reg [CTRL_WIDTH-1:0]    | Control de salida del segundo [[Abbreviations#FCS\|FCS]]                 |
| ifg_offset                               | reg [7:0]               | Desplazamiento para el intervalo entre tramas                            |
| frame_start_reg = 1'b0                   | reg                     | Registro y próximo valor de inicio de trama                              |
| frame_start_next                         | reg                     | Registro y próximo valor de inicio de trama                              |
| frame_reg = 1'b0                         | reg                     | Registro y próximo valor de trama                                        |
| frame_next                               | reg                     | Registro y próximo valor de trama                                        |
| frame_error_reg = 1'b0                   | reg                     | Registro y próximo valor de error de trama                               |
| frame_error_next                         | reg                     | Registro y próximo valor de error de trama                               |
| frame_min_count_reg = 0                  | reg [MIN_LEN_WIDTH-1:0] | Registro y próximo valor de contador de longitud mínima de trama         |
| frame_min_count_next                     | reg [MIN_LEN_WIDTH-1:0] | Registro y próximo valor de contador de longitud mínima de trama         |
| ifg_count_reg = 8'd0                     | reg [7:0]               | Registro y próximo valor de contador de intervalo entre tramas           |
| ifg_count_next                           | reg [7:0]               | Registro y próximo valor de contador de intervalo entre tramas           |
| deficit_idle_count_reg = 2'd0            | reg [1:0]               | Registro y próximo valor de contador de déficit de inactividad           |
| deficit_idle_count_next                  | reg [1:0]               | Registro y próximo valor de contador de déficit de inactividad           |
| s_axis_tready_reg = 1'b0                 | reg                     | Registro y próximo valor de disponibilidad de [[Abbreviations#AXI\|AXI]] |
| s_axis_tready_next                       | reg                     | Registro y próximo valor de disponibilidad de [[Abbreviations#AXI\|AXI]] |
| m_axis_ptp_ts_reg = 0                    | reg [PTP_TS_WIDTH-1:0]  | Registro de marca de tiempo PTP                                          |
| m_axis_ptp_ts_adj_reg = 0                | reg [PTP_TS_WIDTH-1:0]  | Registro de ajuste de marca de tiempo PTP                                |
| m_axis_ptp_ts_tag_reg = 0                | reg [PTP_TAG_WIDTH-1:0] | Registro de etiqueta de marca de tiempo PTP                              |
| m_axis_ptp_ts_valid_reg = 1'b0           | reg                     | Registro de validez de marca de tiempo PTP                               |
| m_axis_ptp_ts_valid_int_reg = 1'b0       | reg                     | Registro interno de validez de marca de tiempo PTP                       |
| m_axis_ptp_ts_borrow_reg = 1'b0          | reg                     | Registro de ajuste de marca de tiempo PTP                                |
| crc_state_reg[7:0]                       | reg [31:0]              | Registro de estado de [[Abbreviations#CRC\|CRC]]                         |
| crc_state_next[7:0]                      | wire [31:0]             | Próximo valor del estado de [[Abbreviations#CRC\|CRC]]                   |
| last_ts_reg = 0                          | reg [4+16-1:0]          | Registro del último timestamp                                            |
| ts_inc_reg = 0                           | reg [4+16-1:0]          | Registro de incremento del timestamp                                     |
| xgmii_txd_reg = {CTRL_WIDTH{XGMII_IDLE}} | reg [DATA_WIDTH-1:0]    | Registro y próximo valor de datos [[Abbreviations#XGMII\|XGMII]]         |
| xgmii_txd_next                           | reg [DATA_WIDTH-1:0]    | Registro y próximo valor de datos [[Abbreviations#XGMII\|XGMII]]         |
| xgmii_txc_reg = {CTRL_WIDTH{1'b1}}       | reg [CTRL_WIDTH-1:0]    | Registro y próximo valor de control [[Abbreviations#XGMII\|XGMII]]       |
| xgmii_txc_next                           | reg [CTRL_WIDTH-1:0]    | Registro y próximo valor de control [[Abbreviations#XGMII\|XGMII]]       |
| start_packet_reg = 2'b00                 | reg                     | Registro de inicio de paquete                                            |
| error_underflow_reg = 1'b0               | reg                     | Registro y próximo valor de error por desbordamiento                     |
| error_underflow_next                     | reg                     | Registro y próximo valor de error por desbordamiento                     |
| j                                        | integer                 |                                                                          |

## Constants

| Name          | Type | Value | Description                                                                     |
| ------------- | ---- | ----- | ------------------------------------------------------------------------------- |
| EMPTY_WIDTH   |      | $     | Parametro del ancho de vacío                                                    |
| MIN_LEN_WIDTH |      | $     | Parametro del ancho mínimo de la longitud                                       |
| ETH_PRE       |      | 8'h55 | Preambulo de Ethernet                                                           |
| ETH_SFD       |      | 8'hD5 | Delimitador de inicio de trama de Ethernet                                      |
| XGMII_IDLE    |      | 8'h07 | Código de control de [[Abbreviations#XGMII\|XGMII]] para estado [[10GBASE/MAC/IDLE\|IDLE]]        |
| XGMII_START   |      | 8'hfb | Código de control de [[Abbreviations#XGMII\|XGMII]] para inicio de paquete      |
| XGMII_TERM    |      | 8'hfd | Código de control de [[Abbreviations#XGMII\|XGMII]] para terminación de paquete |
| XGMII_ERROR   |      | 8'hfe | Código de control de [[Abbreviations#XGMII\|XGMII]] para error                  |
| STATE_IDLE    |      | 3'd0  | Estado [[10GBASE/MAC/IDLE\|IDLE]]                                                                 |
| STATE_PAYLOAD |      | 3'd1  | Estado [[10GBASE/MAC/PAYLOAD\|PAYLOAD]]                                                              |
| STATE_PAD     |      | 3'd2  | Estado PAD                                                                      |
| STATE_FCS_1   |      | 3'd3  | Estado [[Abbreviations#FCS\|FCS]]__1                                            |
| STATE_FCS_2   |      | 3'd4  | Estado [[Abbreviations#FCS\|FCS]]__2                                            |
| STATE_ERR     |      | 3'd5  | Estado ERR                                                                      |
| STATE_IFG     |      | 3'd6  | Estado IFG                                                                      |

## Functions
- keep2empty 
  -  Convierte un byte de control k de 8 bits a un valor de 3 bits que representa el número de bits vacíos (no válidos) en el byte
## Processes
- unnamed: ( @* )
  - **Type:** always
  - **Description**
  Aplica mascara a los datos de entrada 
- unnamed: ( @* )
  - **Type:** always
  - **Description**
  Calculo del ciclo [[Abbreviations#FCS\|FCS]]
- unnamed: ( @* )
  - **Type:** always
  - **Description**
  Define una combinación de asignaciones y lógica de control que determina el comportamiento de un sistema de transmisión de datos 
- unnamed: ( @(posedge clk) )
  - **Type:** always
  - **Description**
  Actualiza registros de control y datos, gestiona la marca de tiempo PTP y el estado del [[Abbreviations#CRC\|CRC]], y controla la transmisión de datos a través del medio físico 
## Instantiations

- eth_crc: [[10GBASE/PCS/lfsr\|lfsr]]
  -  Instanciacion del lsfr para calcular el [[Abbreviations#CRC\|CRC]]

## State machines

- Define una combinación de asignaciones y lógica de control que determina el comportamiento de un sistema de transmisión de datos![[ fsm_axis_xgmii_tx_64_00.svg\| fsm_axis_xgmii_tx_64_00.svg]]